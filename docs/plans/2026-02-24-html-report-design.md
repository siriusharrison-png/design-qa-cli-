# HTML 报告功能设计

> 日期：2026-02-24
> 状态：已确认

## 概述

为 design-qa-cli 添加 HTML 报告输出功能，生成可视化的检测报告。

## 目标用户

- **开发者**：查看具体问题位置，方便修复
- **设计师**：设计走查时直观对比颜色
- **团队领导**：了解项目质量状况

## 设计方案

### 文件格式

**单文件 HTML**：所有内容（HTML、CSS、JS、数据）打包到一个文件。

优点：
- 打开即用，无需服务器
- 分享方便，发一个文件
- 离线可用

### 页面结构

```
┌─────────────────────────────────────────────────┐
│  标题：Design QA Report                         │
│  元信息：项目名、检测时间                         │
├─────────────────────────────────────────────────┤
│  统计卡片：颜色问题数 | 间距问题数 | 字号问题数    │
│  导出按钮：[导出 JSON] [导出 CSV]               │
├─────────────────────────────────────────────────┤
│  问题列表（按文件分组）                          │
│  - 文件名                                       │
│    - 行号、类型、错误值、建议值                  │
│    - 颜色问题显示色块对比                        │
└─────────────────────────────────────────────────┘
```

### 颜色对比展示

颜色问题显示左右对比：
- 左侧：错误的硬编码值 + 色块
- 右侧：建议的变量名 + 色块
- 箭头：表示"应该替换为"

### 数据导出

**JSON 格式**：
```json
{
  "project": "项目名",
  "date": "ISO 时间",
  "summary": { "color": 0, "spacing": 0, "fontSize": 0, "total": 0 },
  "issues": [{ "file", "line", "type", "value", "suggestion" }]
}
```

**CSV 格式**：
```
文件,行号,类型,错误值,建议值
```

实现方式：JS 生成 Blob，触发浏览器下载。

### 命令行接口

```bash
# 生成 HTML 报告
design-qa check ./src --output report.html

# 同时输出终端和报告
design-qa check ./src --output report.html
```

## 技术实现

- 新增 `src/html-reporter.js` 模块
- 修改 `bin/cli.js` 添加 `--output` 参数
- 使用模板字符串生成 HTML
- 内联 CSS 样式（使用设计系统变量）
- 内联 JS 实现导出功能

## 样式规范

使用转转设计系统的 CSS 变量，保持视觉一致性。
